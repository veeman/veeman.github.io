<!DOCTYPE html>
<html>
  <head>
    <title>Digitaler Feuchtesensor SHT1x – veeman.github.io – Persöhnlicher Blog</title>
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Digitaler Feuchtesensor SHT1x" />
<meta name="author" content="Vitalij Mast" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Der Feuchtesensor SHT1x von Sensirion ist ein kleiner und relativ leicht anzusteuernder IC, welcher auf einer kleinen Platine untergebracht ist. Zurzeit gibt es drei Versionen (SHT10, SHT11, SHT15) die sich lediglich in der Toleranz unterscheiden. Ich habe mir einfach mal so ein Breakout-Board von Sparkfun besorgt und an meinen Arduino angeschlossen. Dies funktionierte auch ohne Probleme da der Chip 5V tolerant ist (empfohlen werden 3.3V)." />
<meta property="og:description" content="Der Feuchtesensor SHT1x von Sensirion ist ein kleiner und relativ leicht anzusteuernder IC, welcher auf einer kleinen Platine untergebracht ist. Zurzeit gibt es drei Versionen (SHT10, SHT11, SHT15) die sich lediglich in der Toleranz unterscheiden. Ich habe mir einfach mal so ein Breakout-Board von Sparkfun besorgt und an meinen Arduino angeschlossen. Dies funktionierte auch ohne Probleme da der Chip 5V tolerant ist (empfohlen werden 3.3V)." />
<link rel="canonical" href="https://veeman.github.io/posts/2012/digital-humidity-sensor-sht1x/" />
<meta property="og:url" content="https://veeman.github.io/posts/2012/digital-humidity-sensor-sht1x/" />
<meta property="og:site_name" content="veeman.github.io" />
<meta property="og:image" content="https://veeman.github.io/images/2012-10-17-front-sht15.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2012-10-17T00:00:00+02:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://veeman.github.io/images/2012-10-17-front-sht15.jpg" />
<meta property="twitter:title" content="Digitaler Feuchtesensor SHT1x" />
<script type="application/ld+json">
{"@type":"BlogPosting","image":"https://veeman.github.io/images/2012-10-17-front-sht15.jpg","url":"https://veeman.github.io/posts/2012/digital-humidity-sensor-sht1x/","headline":"Digitaler Feuchtesensor SHT1x","dateModified":"2012-10-17T00:00:00+02:00","datePublished":"2012-10-17T00:00:00+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://veeman.github.io/posts/2012/digital-humidity-sensor-sht1x/"},"author":{"@type":"Person","name":"Vitalij Mast"},"description":"Der Feuchtesensor SHT1x von Sensirion ist ein kleiner und relativ leicht anzusteuernder IC, welcher auf einer kleinen Platine untergebracht ist. Zurzeit gibt es drei Versionen (SHT10, SHT11, SHT15) die sich lediglich in der Toleranz unterscheiden. Ich habe mir einfach mal so ein Breakout-Board von Sparkfun besorgt und an meinen Arduino angeschlossen. Dies funktionierte auch ohne Probleme da der Chip 5V tolerant ist (empfohlen werden 3.3V).","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
<meta http-equiv='X-UA-Compatible' content='IE=edge'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>




<meta property="og:description" content="
Der Feuchtesensor SHT1x von Sensirion ist ein kleiner und relativ leicht anzusteuernder IC, 
welcher auf einer kleinen Platine untergebracht ist. Zurzeit gibt es drei Versionen (SHT10, SHT11, SHT15)
die sich lediglich in der Toleranz unterscheiden.

Ich habe mir einfach mal so ein Breakout-Board von Sparkfun besorgt und an meinen Arduino angeschlossen. 
Dies funktionierte auch ohne Probleme da der Chip 5V tolerant ist (empfohlen werden 3.3V).

" />

<meta name="author" content="veeman.github.io" />


<meta property="og:title" content="Digitaler Feuchtesensor SHT1x" />
<meta property="twitter:title" content="Digitaler Feuchtesensor SHT1x" />



<meta property="og:image" content="https://veeman.github.io/images/2012-10-17-front-sht15.jpg"/>
<meta property="twitter:image" content="https://veeman.github.io/images/2012-10-17-front-sht15.jpg"/>



    <link rel="stylesheet" type="text/css" href="/assets/style.css" />
    <link rel="alternate" type="application/rss+xml" title="veeman.github.io - Persöhnlicher Blog" href="/feed.xml" />
    <link rel="canonical" href="https://veeman.github.io/posts/2012/digital-humidity-sensor-sht1x/" />

    <meta name="theme-color" content="#000000">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
    

  </head>

  <body>
    <div class="wrapper-container">
      <div class="wrapper-masthead">
        <div class="container">
          <header class="masthead clearfix">
            <a href="/" class="site-avatar"><img src="/images/logo.png" alt="" /></a>

            <div class="site-info">
              <h1 class="site-name"><a href="/">veeman.github.io</a></h1>
              <p class="site-description">Persöhnlicher Blog</p> 
            </div>

            <nav>
              <a href="/">Blog</a>
			  <a href="/pages/categories">Kategorien</a>
              <a href="/pages/search">Suchen</a>
            </nav>
          </header>
        </div>
      </div>

      <div class="wrapper-main">
        <div id="main" role="main" class="container">
          <article class="post detailed">
  <h1>Digitaler Feuchtesensor SHT1x</h1>

  <div>
    <p class="author_title">Vitalij Mast · 17 Oktober 2012</p>
    
    <div class="post-tags">
      
      
        <a href="/pages/categories/#arduino">arduino</a>
        &nbsp;
      
        <a href="/pages/categories/#c/++">c/++</a>
        &nbsp;
      
        <a href="/pages/categories/#ic">ic</a>
        &nbsp;
      
        <a href="/pages/categories/#sensor">sensor</a>
        &nbsp;
      
        <a href="/pages/categories/#sht15">sht15</a>
        &nbsp;
      
        <a href="/pages/categories/#sht1x">sht1x</a>
        
      
    </div>
  </div>
    
  <div class="entry">
    <p style="clear:both"><img src="/images/2012-10-17-front-sht15.jpg" alt="" style="float:right" />
Der Feuchtesensor SHT1x von <a href="https://www.sensirion.com/">Sensirion</a> ist ein kleiner und relativ leicht anzusteuernder IC, 
welcher auf einer kleinen Platine untergebracht ist. Zurzeit gibt es drei Versionen (SHT10, SHT11, SHT15)
die sich lediglich in der Toleranz unterscheiden.
<br />
Ich habe mir einfach mal so ein Breakout-Board von Sparkfun besorgt und an meinen Arduino angeschlossen. 
Dies funktionierte auch ohne Probleme da der Chip 5V tolerant ist (empfohlen werden 3.3V).</p>

<p>Die Annahme, dass ich den IC ganz einfach über eine I2C/TWI Schnittstelle ansteuern kann, 
wie die Nachfolgereihe SHT2x, war leider falsch, sodass ich zuerst mal das 2-Wire Protokoll inspizieren musste. 
Das Protokoll ähnelt zwar dem des I2C/TWI ist jedoch nicht das selbe. Im Internet findet man 
schon fertige Bibliotheken. Diese blockieren jedoch den Mikrocontroller solange eine Messung stattfindet. 
Da mir das absolut nicht zusagte, da ich eventuell noch andere Sachen erledigen wollte habe ich kurzer Hand 
selbst eine kleine Bibliothek geschrieben um die Daten asynchron auslesen zu können. 
Zu finden ist diese in meinem github <a href="https://github.com/veeman/ArduinoCodeSnippets/tree/master/arduino/libraries/SHT1x">Repository</a>.</p>

<p>Die Verwendung der Bibliothek ist ganze einfach, man muss nur den SHT1x-Ordner in den library-Ordner 
von der Arduino Software einfügen und kann direkt loslegen.
Das Beispiel Projekt sieht wie folgt aus:</p>

<figure class="highlight"><pre><code class="language-cpp" data-lang="cpp"><div class="line-1"><span class="cp">#include &lt;SHT1x.h&gt;</span>
</div><div class="line-2">
</div><div class="line-3"><span class="cp">#define SHT_DATA  10</span>
</div><div class="line-4"><span class="cp">#define SHT_CLOCK 11</span>
</div><div class="line-5">
</div><div class="line-6"><span class="c1">// Eine SHT1x Instanz erstellen um den Sensor auslesen zu können</span>
</div><div class="line-7"><span class="c1">// hier werden auch alle Initialisierungen für diesen durchgeführt</span>
</div><div class="line-8"><span class="n">SHT1x</span> <span class="nf">sht1x</span><span class="p">(</span><span class="n">SHT_DATA</span><span class="p">,</span> <span class="n">SHT_CLOCK</span><span class="p">);</span>
</div><div class="line-9">
</div><div class="line-10"><span class="kt">void</span> <span class="nf">setup</span><span class="p">()</span>
</div><div class="line-11"><span class="p">{</span>
</div><div class="line-12">  <span class="c1">// Die ausgelesenen Daten werden über die Konsole ausgegeben</span>
</div><div class="line-13">  <span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">38400</span><span class="p">);</span>
</div><div class="line-14"><span class="p">}</span>
</div><div class="line-15">
</div><div class="line-16"><span class="kt">void</span> <span class="nf">loop</span><span class="p">()</span>
</div><div class="line-17"><span class="p">{</span>
</div><div class="line-18">  <span class="n">SHT1x</span><span class="o">::</span><span class="n">valType</span> <span class="n">type</span><span class="p">;</span> <span class="c1">// Der aktuelle Sensortyp der ausgelesen wurde (vNone, vTemp oder vHumidity)</span>
</div><div class="line-19">  <span class="kt">float</span> <span class="n">humidity</span><span class="p">;</span>      <span class="c1">// Der aktuelle Sensorwert wird hier ausgegeben</span>
</div><div class="line-20">  
</div><div class="line-21">  <span class="c1">// Eine Messung durchführen und Sensor auslesen</span>
</div><div class="line-22">  <span class="c1">// Asynchron, die Funktion führt abwechselnd Messungen für Temperatur und Feuchtigkeit durch</span>
</div><div class="line-23">  <span class="c1">// Sobald das Ergebnis der aktuellen Messung vorhanden ist gibt die Funktion einen Wert</span>
</div><div class="line-24">  <span class="c1">// größer 0 zurück. (0: Wert noch nicht verfügbar, &lt;0:ein Fehler ist aufgetreten)</span>
</div><div class="line-25">  <span class="k">if</span> <span class="p">(</span><span class="n">sht1x</span><span class="p">.</span><span class="n">getNextValue</span><span class="p">(</span><span class="n">humidity</span><span class="p">,</span> <span class="n">type</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
</div><div class="line-26">  <span class="p">{</span>
</div><div class="line-27">    <span class="c1">// Sobald der Feuchtigkeitswert ermittelt wurde wird dieser mit der letzten ermittelten</span>
</div><div class="line-28">    <span class="c1">// Temperatur ausgegeben</span>
</div><div class="line-29">    <span class="k">if</span> <span class="p">(</span><span class="n">type</span> <span class="o">==</span> <span class="n">SHT1x</span><span class="o">::</span><span class="n">vHumidity</span><span class="p">)</span>
</div><div class="line-30">    <span class="p">{</span>
</div><div class="line-31">      <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">"temperature: "</span><span class="p">);</span>
</div><div class="line-32">      <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">sht1x</span><span class="p">.</span><span class="n">getLastTemp</span><span class="p">(),</span> <span class="mi">2</span><span class="p">);</span>
</div><div class="line-33">      <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="s">"°C</span><span class="se">\t</span><span class="s">pressure: "</span><span class="p">);</span>
</div><div class="line-34">      <span class="n">Serial</span><span class="p">.</span><span class="n">print</span><span class="p">(</span><span class="n">humidity</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
</div><div class="line-35">      <span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">"%"</span><span class="p">);</span>
</div><div class="line-36">    <span class="p">}</span>
</div><div class="line-37">  <span class="p">}</span>
</div><div class="line-38">  
</div><div class="line-39">  <span class="c1">// hier können weitere Befehle getätigt werden ohne Wartzeit</span>
</div><div class="line-40">  <span class="c1">// zB. weitere Sensoren ausgelesen werden</span>
</div><div class="line-41"><span class="p">}</span>
</div></code></pre></figure>

<p>Was noch erwähnt werden muss ist, dass die Berechnung der Ist-Werte teilweise 
von der Spannung abhängig ist. In der Headerdateier SHT1x.h der Bibliothek befinden 
sich noch einige Macros die man gegebenfalls anpassen sollte. Wie zB das Macro <code class="language-plaintext highlighter-rouge">SHT_SUPPLY_5</code>,
dieses sollte auf die Spannung geändert werden mit welcher ihr euer IC betreibt. 
Zur Verfügung stehen die Werte <code class="language-plaintext highlighter-rouge">SHT_SUPPLY_5</code> (5V, standard), <code class="language-plaintext highlighter-rouge">SHT_SUPPLY_4</code> (4V), 
<code class="language-plaintext highlighter-rouge">SHT_SUPPLY_35</code> (3.5V), <code class="language-plaintext highlighter-rouge">SHT_SUPPLY_3</code> (3V) oder <code class="language-plaintext highlighter-rouge">SHT_SUPPLY_25</code> (2.5V).</p>

<p>Eventuell kann jemand diese Bibliothek gebrauchen. Ansonsten viel Spaß beim testen und messen.</p>


  </div>

  <div>
    <p style="float:left"><span class="share-box">Teilen:</span> <a href="http://twitter.com/share?text=Digitaler Feuchtesensor SHT1x&url=https://veeman.github.io/posts/2012/digital-humidity-sensor-sht1x/" target="_blank">Twitter</a>, <a href="https://www.facebook.com/sharer.php?u=https://veeman.github.io/posts/2012/digital-humidity-sensor-sht1x/" target="_blank">Facebook</a></p>
	<p style="float:right"><span class="share-box">Kommentieren:</span> <a href="mailto:vitali_mast@gmx.net?subject=Digitaler Feuchtesensor SHT1x"><i class="svg-glyph cmail"></i></a> </p>
	<div style="clear:both"></div>
  </div>

  <!--<div class="date">Written on October 17, 2012</div>-->

  
</article>

        </div>
      </div>

      <div class="wrapper-footer">
        <div class="container">
          <footer class="footer">
		    <div class="footer-links">
			  <a href="/pages/imprint">Impressum</a> - 
			  <a href="/pages/privacy">Datenschutzerklärung</a>
			</div>
		    <div>
				
<a href="mailto:vitali_mast@gmx.net"><i class="svg-icon email"></i></a>


<a href="https://github.com/veeman"><i class="svg-icon github"></i></a>



<a href="/feed.xml"><i class="svg-icon rss"></i></a>

<a href="http://stackoverflow.com/users/5388805/veeman"><i class="svg-icon stackoverflow"></i></a>




			</div>
          </footer>
        </div>
      </div>
    </div>

    

  </body>
</html>
